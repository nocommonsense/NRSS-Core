@using NRSSCore.ViewModels.Home

@model RSSViewModel

@{
    ViewData["Title"] = "RSS Feed Info";
}

<div class="row">
    <div class="col-md-12">

        <div class="text-center">
            <h2>RSS Feed Info</h2>
        </div>
        
        @if (Model != null && Model.RSSCreated)
        {
            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
                <h4>Current settings</h4>
                <div class="form-group">
                    @Html.LabelFor(c => c.Title)
                    @Html.DisplayFor(c => c.Title)
                </div>

                <div class="form-group">
                    @Html.LabelFor(c => c.Description)
                    @Html.DisplayFor(c => c.Description)
                </div>

                <div class="form-group">
                    @Html.LabelFor(c => c.Link)
                    @if (!Model.Link.Contains("http"))
                    {
                        <a href="http://@Model.Link">@Model.Link</a>
                    }
                    else
                    {
                        <a href="@Model.Link">@Model.Link</a>
                    }                    
                </div>

                <div class="form-group">
                    @Html.LabelFor(c => c.TimeToLive)
                    @Html.DisplayFor(c => c.TimeToLive)
                </div>       
            </div>            
        }
            
        <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12">
            @using (Html.BeginForm("Index", "Home", FormMethod.Post))
            {
                <h4>Change settings</h4>

                @Html.AntiForgeryToken()

                @Html.LabelFor(c => c.Title)
                @Html.TextBoxFor(c => c.Title, new { @class = "form-control" })

                @Html.LabelFor(c => c.Description)
                @Html.TextAreaFor(c => c.Description, new { @class = "form-control" })

                @Html.LabelFor(c => c.Link)
                @Html.TextBoxFor(c => c.Link, new { @class = "form-control" })

                @Html.LabelFor(c => c.TimeToLive)
                @Html.TextBoxFor(c => c.TimeToLive, new { @class = "form-control" })

                <button type="submit" class="btn btn-primary col-lg-offset-4 col-md-offset-4 tmargin10">Save</button>
            }
        </div>
                
    </div>
</div>